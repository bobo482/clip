---
layout:     post
title:      可积没有原函数的例子
subtitle:   
date:     2025-12-01 13:15:00
index_img:  
author:     "qingsi"
catalog:  true
header-style: text
tags:
  - 数学
  - 积分学
  - 原函数
---

# 可积没有原函数的例子

这是一个在微积分和数学分析中非常经典且重要的问题。它澄清了一个常见的误解：**可积性**（黎曼可积）和**拥有原函数**（存在不定积分）是两个不同的概念。

一个函数可以拥有原函数但不可积，同样，一个函数可以可积但没有原函数。

下面我们重点探讨"可积但没有原函数"的例子，并解释其原因。

## 核心概念辨析

1.  **可积 (Riemann Integrable)**：指函数在区间 $[a, b]$ 上的定积分存在。一个有界函数在闭区间上，如果它的间断点集合是"零测集"（直观理解为间断点不多），那么它就是黎曼可积的。例如，只有有限个或可数个间断点的有界函数是可积的。

2.  **拥有原函数 (Having an Antiderivative)**：指存在一个函数 $F(x)$，使得在区间 $I$ 上的每一点都有 $F'(x) = f(x)$。这意味着 $f(x)$ 必须是某个可导函数的导数。

**关键点**：可导函数 $F(x)$ 的导数 $F'(x)$ 有一个非常重要的性质——它满足 **达布定理（介值定理）**。也就是说，导函数虽然没有连续性的要求，但它具有 **"介值性"**。

> **达布定理**：如果函数 $F$ 在区间 $[a, b]$ 上可导，那么它的导数 $F'$ 在 $[a, b]$ 上具有介值性质。即，对于 $F'(a)$ 和 $F'(b)$ 之间的任何一个值 $k$，都存在 $[a, b]$ 上的一点 $c$，使得 $F'(c) = k$。

这个定理是构造"可积无原函数"例子的核心。

## 经典例子

最典型的例子是：**一个在闭区间上有定义、有界、并且只有可去间断点或跳跃间断点的函数**。

### 例子 1：带有可去间断点的函数

考虑函数 $f(x)$ 在区间 $[-1, 1]$ 上定义如下：

$$
f(x) = \begin{cases}
0, & \text{如果 } x = 0 \\
1, & \text{如果 } x \neq 0
\end{cases}
$$

#### 1. 可积性分析

**它可积吗？**  
是的。这个函数在 $[-1, 1]$ 上只有一个间断点（$x=0$）。根据黎曼可积的判定准则，有界且只有有限个间断点的函数是可积的。

**定积分计算：**  
$$
\int_{-1}^{1} f(x) dx = \int_{-1}^{1} 1 dx = 2
$$  
（因为在积分中，改变一个点的函数值不影响积分结果）。

#### 2. 原函数存在性分析

**它有原函数吗？**  
没有。我们用反证法：

假设存在一个可导函数 $F(x)$，使得对于所有 $x \in [-1, 1]$，都有 $F'(x) = f(x)$。

那么当 $x > 0$ 时，$F'(x) = 1$。根据拉格朗日中值定理，$F(x) = x + C_1$（对于 $x > 0$）。

当 $x < 0$ 时，$F'(x) = 1$，所以 $F(x) = x + C_2$（对于 $x < 0$）。

由于 $F(x)$ 在 $x=0$ 处可导，它必然在 $x=0$ 处连续。因此，当 $x$ 从右侧和左侧趋近于 0 时，$F(x)$ 的极限必须相等且等于 $F(0)$。

$$
\begin{aligned}
\lim_{x \to 0^+} F(x) &= \lim_{x \to 0^+} (x + C_1) = C_1 \\
\lim_{x \to 0^-} F(x) &= \lim_{x \to 0^-} (x + C_2) = C_2
\end{aligned}
$$

所以，$C_1 = C_2 = F(0)$。

现在考虑 $F'(0)$。根据导数的定义：

$$
F'(0) = \lim_{h \to 0} \frac{F(0+h) - F(0)}{h}
$$

- 当 $h$ 从右侧趋近于 0 时，$F(0+h) = h + F(0)$，所以 $\frac{F(0+h) - F(0)}{h} = \frac{h}{h} = 1$。
- 当 $h$ 从左侧趋近于 0 时，$F(0+h) = h + F(0)$，所以 $\frac{F(0+h) - F(0)}{h} = \frac{h}{h} = 1$。

因此，$F'(0) = 1$。

但是，根据 $f(x)$ 的定义，$f(0) = 0$。

这就产生了矛盾：我们假设 $F'(0) = f(0)$，但推导出 $F'(0) = 1$ 而 $f(0) = 0$。

**结论**：这样的 $F(x)$ 不存在。$f(x)$ 没有原函数。

### 例子 2：符号函数 (Sign Function)

考虑函数 $f(x)$ 在区间 $[-1, 1]$ 上定义如下：

$$
f(x) = \begin{cases}
1, & \text{如果 } x > 0 \\
0, & \text{如果 } x = 0 \\
-1, & \text{如果 } x < 0
\end{cases}
$$

#### 1. 可积性分析

**它可积吗？**  
是的。它只有一个跳跃间断点（$x=0$）。所以它在 $[-1, 1]$ 上是黎曼可积的。

**定积分计算：**  
$$
\int_{-1}^{1} f(x) dx = \int_{-1}^{0} (-1) dx + \int_{0}^{1} (1) dx = -1 + 1 = 0
$$

#### 2. 原函数存在性分析

**它有原函数吗？**  
没有。我们再次使用达布定理。

如果 $f(x)$ 有原函数 $F(x)$，那么 $F'(x) = f(x)$。

观察 $f(x)$ 的值域：当 $x<0$ 时，$f(x) = -1$；当 $x>0$ 时，$f(x) = 1$。

根据达布定理，$F'(x)$（即 $f(x)$）必须取到 $-1$ 和 $1$ 之间的每一个值。但是，在 $x=0$ 这一点，$f(0)=0$，而 $0$ 确实在 $-1$ 和 $1$ 之间，这看起来似乎没问题。

**然而**，问题在于，$f(x)$ 在 $0$ 的邻域内 **根本没有** 取到 $(-1, 1)$ 之间的其他值（比如 $0.5$）。它的值直接从 $-1$ 跳到了 $1$，中间只在一个孤立的点上是 $0$。这违反了达布定理所保证的介值性。一个导函数如果在一个区间上有定义，它不可能有这样"缺失中间值"的跳跃。

因此，$f(x)$ 不可能是某个函数的导数，即它没有原函数。

## 总结

| 函数 | 可积性 | 是否有原函数 | 原因 |
| :--- | :--- | :--- | :--- |
| $f(x) = \begin{cases}0 & x=0 \\ 1 & x \neq 0\end{cases}$ | 是 | **否** | 假设存在原函数 $F(x)$ 会导致在 $x=0$ 处产生矛盾（$F'(0)$ 既等于1又等于0）。 |
| 符号函数 $\operatorname{sgn}(x)$ | 是 | **否** | 违反了达布定理（导函数具有介值性）。它的值从-1跳到1，中间的值全部缺失。 |

**结论**：一个函数即使非常"简单"，只有一两个间断点，并且是黎曼可积的，也完全可能因为不满足 **达布性质** 而无法成为任何函数的导数。这就是"可积但没有原函数"的本质。